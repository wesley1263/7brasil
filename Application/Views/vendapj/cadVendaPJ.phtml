<div class="venda">
	<?php 
	if(isset($_SESSION['success'])){
       	echo '<div class="alert alert-success">'.$this->session->getFlashMessage('success').'</div>';
       }
	   
	    if(isset($_SESSION['error'])){
       	echo '<div class="alert alert-danger">'.$this->session->getFlashMessage('error').'</div>';
       }
	?>

       <form method="post" action="/vendaPJ/findClientePJ" id="form_addClientePJ" role="form" class="form-horizontal">
       		<label for="cnpj_clientePJ" style="color: #797676;" class="col-sm-1 control-label">CNPJ</label>
       		<div class="col-sm-3">
       			<input type="text" class="form-control" id="cnpj_clientePJ" placeholder="CNPJ da Empresa" name="cnpj_clientePJ" value="">
       			</div>
       			<button type="button" id="bt_findClientePJ" data-toggle="modal" data-target="#myModal" class="btn btn-primary" disabled="disabled">
       				<span class="glyphicon glyphicon-search"></span> Buscar</button> 
       			<a href="/cliente/cadjuridica" type="button" id="bt_addNewPJ" class="btn btn-primary"><i class="glyphicon glyphicon-user"></i> Novo</a>
       	</form>
</div>       
      
      
      <?php $this->dump($_SESSION); ?>
      
      <?php foreach ($departamento->list_all() as $key => $value) {
          $opt_departamento[$value['id_departamento']] = $value['nome_departamento'];
      } 
      
	  foreach($locadoras as $key => $value){
	  	$opt_locadora[$value['id_locadora']] = $value['nome_locadora'];
	  }
      
	  foreach ($brokers as $key => $value) {
		  $opt_brokers[$value['id_brokers']] = $value['nome_brokers'];
	  }
	  
	  foreach ($cambios as $key => $value) {
		  $opt_cambio[$value['id_cambio']] = $value['titulo_cambio'];
	  }
	  
	  foreach ($seguradora as $key => $value) {
		  $opt_seguradora[$value['id_seguradora']] = $value['nome_seguradora'];
	  }
	  
	  foreach ($tipoSeguro as $key => $value) {
		  $opt_tipoSeguro[$value['id_tipoSeguro']] = $value['nome_tipoSeguro'];
	  }
	  
	  foreach ($continente as $key => $value) {
		  $opt_continente[$value['id_continente']] = $value['nome_continente'];
	  }
	  
	  foreach ($ticket as $key => $value) {
		  $opt_ticket[$value['id_ticket']] = $value['nome_ticket'];
	  }
	  
	  foreach ($companiaCruzeiro as $key => $value) {
		  $opt_companiaCruzeiro[$value['id_compania_cruzeiro']] = $value['nome_compania_cruzeiro'];
	  }
      ?>
      
      	<!-- Modal cliente Pessoa Júridica -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						×
					</button>
					<h4 class="modal-title" id="myModalLabel">Empresa Cadastrada</h4>
				</div>
				<div class="modal-body">
						<form method="post" action="/vendaPJ/addClientePJ">
						<input id="id_PJ" name="id_PJ" type="hidden">
						
						<div id="nomefantasia_PJ"></div>
						<div id="cnpj_PJ"></div>
						<div id="endereco_PJ"></div>
						<div id="cidade_PJ"></div>
						<div id="uf_PJ"></div>
						<div id="telefone_PJ"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Sair</button>
					<button type="submit" id="bt_incluir" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
				</form>
					
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	
	
	
	
	  	<!-- Modal Funcionarios -->
	<div class="modal fade" id="modalFuncionario" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content" style=" width: 115%;">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title" id="myModalLabel">Funcionários</h4>
				</div>
				<div class="modal-body">
					<form action="/vendaPJ/addDependentePJ" method="post">
					<!-- <input type="checkbox" id="todos" /> Todos -->
					<?php if(isset($_SESSION['empresa'])): ?>
						<?php foreach ($departamento->list_all() as $key => $value): ?>
							<p><label><strong><?=$value['nome_departamento']?></strong></label></p>
						<?php  foreach ($funcionarios->getDependentePJ($_SESSION['empresa']['id']) as $chave => $valor) {
								if($value['id_departamento'] == $valor['id_departamento']){ ?>
								<p><input type="checkbox" name="id_dependentePJ[]" value="<?=$valor['id_dependentePJ']?>" class="marcar" /> <?=$valor['nome_dependentePJ']?>  -  CPF: <?=$valor['cpf_dependentePJ']?></p>
						
						<?php
								}
							 } 
						 ?>
						<?php endforeach; ?>
						
					<?php endif; ?>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirFuncionario" class="btn btn-primary" ><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
					</form>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	  	<!-- Modal Passagens -->
	
	
	
	   	<!-- Modal dependente cliente -->
	<div class="modal fade" id="modalDependente" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						×
					</button>
					<h4 class="modal-title" id="myModalLabel">Dependentes</h4>
				</div>
				<div class="modal-body">
				<form method="post" action="/venda/addDependente">
				<div class="dependentePF">	</div>
						
				</form></div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirDependente" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
					
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	
	
		   
	
	<br>
	<br>
	<br>
	
	   	<!-- Modal de aluguel de carros -->
	<div class="modal fade" id="modalCarros" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Aluguel de Carros</h4>
				</div>
				<div class="modal-body">
					<div class="carroPF">	
						<?php 
						$form->init('formAddCarro','/carro/saveCarroPJ','post');
						
						$form->groupOpen();
						$form->select($opt_locadora,'id_locadora','Locadora',1,2,5);
						$form->groupClose();

						$form->groupOpen();
						foreach($cambios as $key => $value){
							$op_cambio[$value['id_cambio']] = $value['titulo_cambio'];
						}
						$op_cambio['0'] = 'REAL BR';
						$form->select($op_cambio,'id_moeda','Moeda',0,2,5);
						$form->input(array(
							'name' =>'valor_cambio',
							'type' =>'text',
							'placeholder' => '',
							'num_label' =>'1',
							'num_input' =>'2',
							'label' =>'Valor',
							'value' => '',
							'required' => true
							));						$form->groupClose();
						
						
						echo "<input type='hidden' name='id_clientePJ' value='".$_SESSION['empresa']['id']."'>";
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'dt_inicio_carroPJ',
							'type' =>'date',
							'placeholder' => 'Data de início',
							'num_label' =>'2',
							'num_input' =>'4',
							'label' =>'Início',
							'value' => '',
							'required' => true
							));
							
						$form->input(array(
							'name' =>'hora_inicio_carroPJ',
							'type' =>'time',
							'placeholder' => 'Horário de início',
							'num_label' =>'2',
							'num_input' =>'3',
							'label' =>'Hora Início',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();	
						$form->input(array(
							'name' =>'dt_devolucao_carroPJ',
							'type' =>'date',
							'placeholder' => 'Data de Devolução',
							'num_label' =>'2',
							'num_input' =>'4',
							'label' =>'Fim',
							'value' => '',
							'required' => true
							));	
							
							$form->input(array(
							'name' =>'hora_devolucao_carroPJ',
							'type' =>'time',
							'placeholder' => 'Horário de Devolução',
							'num_label' =>'2',
							'num_input' =>'3',
							'label' =>'Hora Fim',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'local_inicio_carroPJ',
							'type' =>'text',
							'placeholder' => 'Local de retirada',
							'num_label' =>'2',
							'num_input' =>'8',
							'label' =>'Retirada',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'local_devolucao_carroPJ',
							'type' =>'text',
							'placeholder' => 'Local de Devolução',
							'num_label' =>'2',
							'num_input' =>'8',
							'label' =>'Devolução',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'voucher_carroPJ',
							'type' =>'file',
							'placeholder' => '',
							'num_label' =>'2',
							'num_input' =>'8',
							'label' =>'Voucher',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'valor_carroPJ',
							'type' =>'text',
							'placeholder' => 'Valor do Aluguel',
							'num_label' =>'2',
							'num_input' =>'4',
							'label' =>'Aluguel',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'valor_casa_carroPJ',
							'type' =>'text',
							'placeholder' => 'Comissão da Casa',
							'num_label' =>'2',
							'num_input' =>'4',
							'label' =>'Comissão',
							'value' => '',
							'required' => true
							));	
						$form->groupClose();
						
						$form->groupOpen();
						$form->input(array(
							'name' =>'taxa_carroPJ',
							'type' =>'text',
							'placeholder' => 'Taxas Extras',
							'num_label' =>'2',
							'num_input' =>'4',
							'label' =>'Taxas',
							'value' => '',
							'required' => false
							));	
						$form->groupClose();
						 ?>
						 <label>Descrição</label>
						 <textarea name="descricao_carroPJ" class="form-control" rows="3"></textarea>
					</div><!-- div carroPF-->
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirCarro" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
				<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	   	<!-- Modal de aluguel de carros -->
	   	
	   	
	   	
	   		
	   		<!-- Modal Hotel -->
	<div class="modal fade" id="modalHotel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Hotel</h4>
				</div>
				<div class="modal-body">
		<?php
			$form->init('form_hotel','/hotel/saveHotelPJ');
			
			$form->groupOpen();	
			$form->input(array(
				'name' =>'id_hotelPJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' => '',
				'required' => false
				));
			$form->groupClose();
			
			
			$form->groupOpen();	
			$form->input(array(
				'name' =>'id_clientePJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' => $_SESSION['empresa']['id'],
				'required' => false
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->select($opt_brokers,'id_brokers','Brokers',0,2,8);
			$form->groupClose();


			$form->groupOpen();	
			$opt_cambio['0'] = 'Real BR';
			$form->select($opt_cambio,'id_moeda','Moeda',0,2,4);
			$form->input(array(
				'name' =>'valor_cambio_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Valor',
				'num_label' =>'2',
				'num_input' =>'2',
				'label' =>'Cambio',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'nome_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Nome',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Nome',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();
			
			$form->groupOpen();
			echo ' <div id="checkbox" class="checkbox"><input type="checkbox" name="is_br" id="is_br" value="nothing"><span>Internacional</span></div>';
			$form->groupClose();
			
			$form->groupOpen();	
			$form->input(array(
				'name' =>'cep_hotelPJ',
				'type' =>'text',
				'placeholder' => 'CEP',
				'num_label' =>'2',
				'num_input' =>'4',
				'label' =>'CEP',
				'value' =>'',
				'required' => false
				));
				echo '<div id="msg_cep"></div>';
			$form->groupClose();
		
			$form->groupOpen();	
			$form->input(array(
				'name' =>'endereco_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Endereço',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Endereço',
				'value' =>'',
				'required' => false
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'numero_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Número',
				'num_label' =>'2',
				'num_input' =>'3',
				'label' =>'Número',
				'value' =>'',
				'required' => false
				));
		$form->groupClose();


			$form->groupOpen();	
			$form->input(array(
				'name' =>'cidade_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Cidade',
				'num_label' =>'2',
				'num_input' =>'6',
				'label' =>'Cidade',
				'value' =>'',
				'required' => false
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'uf_hotelPJ',
				'type' =>'text',
				'placeholder' => 'UF',
				'num_label' =>'2',
				'num_input' =>'3',
				'label' =>'UF',
				'value' =>'',
				'required' => false
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'telefone_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Telefone',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Telefone',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'email_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Email',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Email',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'voucher_hotelPJ',
				'type' =>'file',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'7',
				'label' =>'Voucher',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'valor_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Valor',
				'num_label' =>'2',
				'num_input' =>'3',
				'label' =>'Valor',
				'value' =>'',
				'required' => true
				));
			
			$form->input(array(
				'name' =>'valor_casa_hotelPJ',
				'type' =>'text',
				'placeholder' => 'Comissão',
				'num_label' =>'2',
				'num_input' =>'3',
				'label' =>'Comissão',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();
		
		?>
		<label>Descrição</label>
		<textarea name="descricao_hotelPJ" class="form-control" rows="3"></textarea>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirHotel" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
				<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal Hotel -->
	   		
	   		
	   		
	   		
	
	
		   <!-- Modal Seguro -->
	<div class="modal fade" id="modalSeguro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Seguros</h4>
				</div>
				<div class="modal-body">
			<?php
		$form->init('form_seguro','/seguro/saveSeguroPJ');
		
		$form->groupOpen();	
		$form->input(array(
				'name' =>'id_seguroPJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' =>'',
				'required' => false
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
			'name' =>'id_clientePJ',
			'type' =>'hidden',
			'placeholder' => '',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'',
			'value' => $_SESSION['empresa']['id'],
			'required' => false
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->select($opt_seguradora,'id_seguradora','Seguradora',1,2,8);
		$form->groupClose();

		$form->groupOpen();
		$form->select($opt_tipoSeguro,'id_tipoSeguro','Tipo',1,2,5);
		$form->groupClose();

		$form->groupOpen();	
		$form->select($opt_continente,'id_continente','Continente',1,2,5);
		$form->groupClose();

		$form->groupOpen();	
		$form->select($opt_cambio,'id_moeda','Moeda',0,2,5);
		$form->input(array(
				'name' =>'valor_cambio_seguroPJ',
				'type' =>'text',
				'placeholder' => '',
				'num_label' =>'1',
				'num_input' =>'2',
				'label' =>'valor',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();
		
		$form->groupOpen();	
		$form->input(array(
				'name' =>'dt_inicio_seguroPJ',
				'type' =>'date',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'4',
				'label' =>'Inicio',
				'value' =>'',
				'required' => true
				));

		$form->input(array(
				'name' =>'dt_fim_seguroPJ',
				'type' =>'date',
				'placeholder' => '',
				'num_label' =>'1',
				'num_input' =>'4',
				'label' =>'Fim',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();
		

		$form->groupOpen();	
		$form->input(array(
				'name' =>'valor_seguroPJ',
				'type' =>'text',
				'placeholder' => 'Valor',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Valor',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'valor_casa_seguroPJ',
				'type' =>'text',
				'placeholder' => 'Comissão',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Comissão',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'voucher_seguroPJ',
				'type' =>'file',
				'placeholder' => 'Voucher',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Voucher',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();
		
		?>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirSeguro" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
				<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
		   	<!-- Modal Seguro -->
		   
		   
		   
		   
		   
		   <!-- Modal Tickets -->
	<div class="modal fade" id="modalTicket" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Tickets</h4>
				</div>
				<div class="modal-body">
						<?php
			$form->init('form_compraticket','/compraTicket/saveCompraTicketPJ');
			$form->groupOpen();	
			$form->input(array(
				'name' =>'id_compraTicketPJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' =>'',
				'required' => true
				));
			$form->input(array(
				'name' =>'id_clientePJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' => $_SESSION['empresa']['id'],
				'required' => true
				));
			$form->groupClose();
			
			$form->groupOpen();
			$form->select($opt_ticket,'id_ticket','Ticket',1,2,8);
			$form->groupClose();


			$form->groupOpen();	
			$form->select($opt_cambio,'id_moeda','Moeda',0,2,5);
			$form->input(array(
				'name' =>'valor_cambio_compraTicketPJ',
				'type' =>'text',
				'placeholder' => 'Cambio',
				'num_label' =>'1',
				'num_input' =>'2',
				'label' =>'Valor',
				'value' =>'',
				'required' => false
				));
			$form->groupClose();


			$form->groupOpen();	
			$form->input(array(
				'name' =>'valor_compraTicketPJ',
				'type' =>'text',
				'placeholder' => 'Valor da compra',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Valor',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'comissao_compraTicketPJ',
				'type' =>'text',
				'placeholder' => 'Comissão em porcentagem',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Comissão',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();
			
			$form->groupOpen();	
			$form->input(array(
				'name' =>'voucher_compraTicketPJ',
				'type' =>'file',
				'placeholder' => 'Voucher',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Voucher',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'fornecedor_compraTicketPJ',
				'type' =>'text',
				'placeholder' => 'Nome Fornecedor',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Fornecedor',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();
						?>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirTicket" class="btn btn-primary">
						<i class="glyphicon glyphicon-plus-sign"></i> Incluir
					</button>
					<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

		   	<!-- Modal Tickets -->
		   	
		   	
		   	
		   	<!-- Modal Cruzeiros -->
	<div class="modal fade" id="modalCruzeiro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Cruzeiro</h4>
				</div>
				<div class="modal-body">
				<?php
				
			$form->init('form_cruzeiro','/cruzeiro/saveCruzeiroPJ');
			$form->groupOpen();	
			$form->input(array(
				'name' =>'id_cruzeiroPJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' =>'',
				'required' => true
				));
			$form->input(array(
				'name' =>'id_clientePJ',
				'type' =>'hidden',
				'placeholder' => '',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'',
				'value' => $_SESSION['empresa']['id'],
				'required' => true
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->select($opt_companiaCruzeiro,'id_compania_cruzeiro','Companias',0,2,8);
			$form->groupClose();

			$form->groupOpen();	
			$form->select($opt_cambio,'id_moeda','Moeda',0,2,4);
			$form->input(array(
				'name' =>'valor_cambio_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Cambio',
				'num_label' =>'2',
				'num_input' =>'3',
				'label' =>'Valor',
				'value' =>'',
				'required' => true
				));
			$form->groupClose();

			$form->groupOpen();	
			$form->input(array(
				'name' =>'navio_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Navio',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'navio',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'dt_inicio_cruzeiroPJ',
				'type' =>'date',
				'placeholder' => 'Inicio',
				'num_label' =>'2',
				'num_input' =>'4',
				'label' =>'Início',
				'value' =>'',
				'required' => true
				));
				
				
		$form->input(array(
				'name' =>'dt_fim_cruzeiroPJ',
				'type' =>'date',
				'placeholder' => 'Fim',
				'num_label' =>'1',
				'num_input' =>'4',
				'label' =>'Fim',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'rota_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Rota',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Rota',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'nm_confirmacao_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Número de Confirmação',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Número',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'tipo_cabine_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Tipo de Cabine',
				'num_label' =>'2',
				'num_input' =>'8',
				'label' =>'Cabine',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'valor_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Valor do Cruzeiro',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Valor',
				'value' =>'',
				'required' => true
				));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
				'name' =>'comissao_cruzeiroPJ',
				'type' =>'text',
				'placeholder' => 'Comissão',
				'num_label' =>'2',
				'num_input' =>'5',
				'label' =>'Comissão',
				'value' =>'',
				'required' => true
				));
				$form->groupClose();
				
				
			$form->groupOpen();	
			$form->input(array(
					'name' =>'voucher_cruzeiroPJ',
					'type' =>'file',
					'placeholder' => 'Voucher',
					'num_label' =>'2',
					'num_input' =>'8',
					'label' =>'Voucher',
					'value' =>'',
					'required' => false
					));
				$form->groupClose();
				
				?>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirCruzeiro" class="btn btn-primary">
						<i class="glyphicon glyphicon-plus-sign"></i> Incluir
					</button>
					<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

		   	<!-- Modal Cruzeiros -->
		   	
		   	
		   	
	<!-- Modal Outros Produtos -->
	<div class="modal fade" id="modalProdutos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">Outros Produtos</h4>
				</div>
				<div class="modal-body">
		<?php 
		$form->init('form_produtooutros','/produtoOutros/saveProdutoOutrosPJ');
		
		$form->groupOpen();	
		$form->input(array(
			'name' =>'id_produtoPJ',
			'type' =>'hidden',
			'placeholder' => '',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'',
			'value' =>'',
			'required' => true
			));
		$form->input(array(
			'name' =>'id_clientePJ',
			'type' =>'hidden',
			'placeholder' => '',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'',
			'value' => $_SESSION['empresa']['id'],
			'required' => true
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->select($opt_cambio,'id_moeda','Moeda',0,2,4);
		$form->input(array(
			'name' =>'valor_cambio_produtoPJ',
			'type' =>'text',
			'placeholder' => 'Cambio',
			'num_label' =>'2',
			'num_input' =>'2',
			'label' =>'Valor',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();
		
		
		$form->groupOpen();	
		$form->input(array(
			'name' =>'titulo_produtoPJ',
			'type' =>'text',
			'placeholder' => 'Título',
			'num_label' =>'2',
			'num_input' =>'8',
			'label' =>'Título',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
			'name' =>'valor_produtoPJ',
			'type' =>'text',
			'placeholder' => 'Valor',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'Valor',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();
				
		$form->groupOpen();	
		$form->input(array(
			'name' =>'comissao_produtoPJ',
			'type' =>'text',
			'placeholder' => 'Comissão',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'Comissão',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
			'name' =>'fornecedor_produtoPJ',
			'type' =>'text',
			'placeholder' => 'Fornecedor',
			'num_label' =>'2',
			'num_input' =>'8',
			'label' =>'Fornecedor',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
			'name' =>'dt_inicio_produtoPJ',
			'type' =>'date',
			'placeholder' => 'Início',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'Início',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();

		$form->groupOpen();	
		$form->input(array(
			'name' =>'dt_final_produtoPJ',
			'type' =>'date',
			'placeholder' => 'Final',
			'num_label' =>'2',
			'num_input' =>'5',
			'label' =>'Final',
			'value' =>'',
			'required' => true
			));
		$form->groupClose();
				?>
				<label>Descrição</label>
					<textarea name="descricao_produtoPJ" class="form-control" rows="3"></textarea>
				</div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirProdutos" class="btn btn-primary"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
				<?php $form->close(); ?>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
		<!-- Modal Outros Produtos -->
		
		
	  	<!-- Modal Passagens -->
	<div class="modal fade" id="modalPassagens" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						×
					</button>
					<h4 class="modal-title" id="myModalLabel">Passagem Aérea</h4>
				</div>
				<div class="modal-body">
				<form name="form_passagens" method="post" action="/passagens/savePassagens" id="form_passagens" role="form" class="form-horizontal" enctype="multipart/form-data"><div class="form-group"><label for="id_passagens" style="color: #797676;" class="col-sm-2 control-label"></label><div class="col-sm-5"><input type="hidden" class="form-control" id="id_passagens" required="" placeholder="" name="id_passagens" value=""></div></div><div class="form-group"><label for="id_clientePF" style="color: #797676;" class="col-sm-2 control-label">Cliente</label> <div class="col-sm-8"><select class="form-control" name="id_clientePF"></select></div></div><div class="form-group"><label for="id_compania" style="color: #797676;" class="col-sm-2 control-label">Compania</label> <div class="col-sm-8"><select class="form-control" name="id_compania"><option value="2">CVC BRASIL</option><option value="1" selected="">TAM</option><option value="3">AVIANCA</option></select></div><a href="/compania/cadCompania" title="Adicionar nova Compania caso não exista" class="btn btn-primary"><span class="glyphicon glyphicon-plus-sign"></span></a></div><div class="form-group"><label for="id_classe" style="color: #797676;" class="col-sm-2 control-label">Classe</label> <div class="col-sm-8"><select class="form-control" name="id_classe"><option value="1" selected="">CLASSE ECONOMICA</option></select></div><a href="/classe/cadClasse" title="Adicionar nova classe caso não exista" class="btn btn-primary"><span class="glyphicon glyphicon-plus-sign"></span></a></div><div class="form-group"><label for="id_origem" style="color: #797676;" class="col-sm-2 control-label">Origem</label> <div class="col-sm-6"><select class="form-control" name="id_origem"><option value="1" selected="">SP - CUMBICA</option><option value="2">SP - GUARULHOS</option></select></div><a href="/origem/cadOrigem" title="Adicionar novo origem caso não exista" class="btn btn-primary"><span class="glyphicon glyphicon-plus-sign"></span></a></div><div class="form-group"><label for="id_destino" style="color: #797676;" class="col-sm-2 control-label">Destino</label> <div class="col-sm-6"><select class="form-control" name="id_destino"><option value="1" selected="">SP- CUMBICA</option><option value="3">MIAMI - USA</option><option value="4">TESTE-RJ</option></select></div><a href="/destino/cadDestino" title="Adicionar novo destino caso não exista" class="btn btn-primary"><span class="glyphicon glyphicon-plus-sign"></span></a></div><div class="form-group"><label for="id_moeda" style="color: #797676;" class="col-sm-2 control-label">Moeda</label> <div class="col-sm-4"><select class="form-control" name="id_moeda"><option value="0" selected="">Real BR</option><option value="1">DOLLAR USA</option><option value="2">EURO</option><option value="3">LIBRA</option></select></div></div><input type="checkbox" id="somente_ida" checked="checked"> <strong>Somente ida</strong><fieldset id="fs_ida"><legend><strong>IDA</strong></legend><div class="form-group"><label for="dataIda_passagens" style="color: #797676;" class="col-sm-2 control-label">Data</label><div class="col-sm-4"><input type="date" class="form-control" id="dataIda_passagens" required="" placeholder="" name="dataIda_passagens" value=""></div></div><div class="form-group"><label for="saidaIda_passagens" style="color: #797676;" class="col-sm-2 control-label">Saida</label><div class="col-sm-3"><input type="time" class="form-control" id="saidaIda_passagens" required="" placeholder="" name="saidaIda_passagens" value=""></div><label for="chegadaIda_passagens" style="color: #797676;" class="col-sm-2 control-label">Chegada</label><div class="col-sm-3"><input type="time" class="form-control" id="chegadaIda_passagens" required="" placeholder="" name="chegadaIda_passagens" value=""></div></div></fieldset><fieldset id="fs_volta" style="display: none;"><legend><strong>Volta</strong></legend><div class="form-group"><label for="dataVolta_passagens" style="color: #797676;" class="col-sm-2 control-label">Data</label><div class="col-sm-4"><input type="date" class="form-control" id="dataVolta_passagens" required="" placeholder="" name="dataVolta_passagens" value=""></div></div><div class="form-group"><label for="saidaVolta_passagens" style="color: #797676;" class="col-sm-2 control-label">Saida</label><div class="col-sm-3"><input type="time" class="form-control" id="saidaVolta_passagens" required="" placeholder="" name="saidaVolta_passagens" value=""></div><label for="chegadaVolta_passagens" style="color: #797676;" class="col-sm-2 control-label">Chegada</label><div class="col-sm-3"><input type="time" class="form-control" id="chegadaVolta_passagens" required="" placeholder="" name="chegadaVolta_passagens" value=""></div></div></fieldset><hr><div class="form-group"><label for="voo_passagens" style="color: #797676;" class="col-sm-2 control-label">Voo</label><div class="col-sm-8"><input type="text" class="form-control" id="voo_passagens" required="" placeholder="Voo" name="voo_passagens" value=""></div></div><div class="form-group"><label for="voucher_passagens" style="color: #797676;" class="col-sm-2 control-label">Voucher</label><div class="col-sm-8"><input type="file" class="form-control" id="voucher_passagens" required="" placeholder="Voucher" name="voucher_passagens" value=""></div></div><div class="form-group"><label for="tarifa_passagens" style="color: #797676;" class="col-sm-2 control-label">Valor</label><div class="col-sm-3"><input type="text" class="form-control" id="tarifa_passagens" required="" placeholder="Valor" name="tarifa_passagens" value=""></div><label for="ticket_passagens" style="color: #797676;" class="col-sm-1 control-label">Ticket</label><div class="col-sm-4"><input type="text" class="form-control" id="ticket_passagens" required="" placeholder="Ticket" name="ticket_passagens" value=""></div></div><div class="form-group"><label for="valor_casa_passagens" style="color: #797676;" class="col-sm-2 control-label">Comissão</label><div class="col-sm-3"><input type="text" class="form-control" id="valor_casa_passagens" required="" placeholder="Comissão" name="valor_casa_passagens" value=""></div><label for="tx_embarque_passagens" style="color: #797676;" class="col-sm-2 control-label">Embarque</label><div class="col-sm-3"><input type="text" class="form-control" id="tx_embarque_passagens" required="" placeholder="Taxa de Enbarque" name="tx_embarque_passagens" value=""></div></div><div class="form-group"><label for="tx_outras_passagens" style="color: #797676;" class="col-sm-2 control-label">Extra</label><div class="col-sm-3"><input type="text" class="form-control" id="tx_outras_passagens" placeholder="Taxa Extra" name="tx_outras_passagens" value=""></div><label for="tx_repasse_passagens" style="color: #797676;" class="col-sm-2 control-label">Repasse</label><div class="col-sm-3"><input type="text" class="form-control" id="tx_repasse_passagens" required="" placeholder="Taxa de Repasse" name="tx_repasse_passagens" value=""></div></div>				</form></div>
				<div class="modal-footer">
					<button type="submit" id="bt_incluirPassagens" class="btn btn-primary" disabled="disabled"><i class="glyphicon glyphicon-plus-sign"></i> Incluir</button>
								</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	  	<!-- Modal Passagens -->
		   	
		   	
	
	
	
		<!-- Modal Finalização de Venda -->
	<div class="modal fade" id="modalFinaliza" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" style="width: 50%;">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						×
					</button>
					<h4 class="modal-title" id="myModalLabel">Finalizar Venda</h4>
				</div>
				<div class="modal-body">
					<label style="color: #797676;" class="col-sm-2 control-label">Agencia</label> 
					<form method="post" action="/venda/saveVenda">
						<select class="form-control" name="id_agencia">
							<option value="0">7 Brasil</option>
														<option value="1">MILESSIS TURISMO</option>
													</select>
						<br>
						<label id="lb_agente" style="color: rgb(121, 118, 118); display: none;" class="col-sm-2 control-label">Agente</label> 
						<select class="form-control" name="id_agente" id="id_agente" style="display: none;"></select>
						<br>
						<br>
					<!-- Todos os Produtos -->
					<div id="painel_cliente">
					<div class="panel-group" id="accordion">
						<!-- Aba de cliente-->
												<!-- Aba de cliente-->
					  
					  					  
					  <!-- Todos Produtos -->
					  <div id="todos_produtos">
					 </div> <!-- Todos Produtos -->
					  
					</div>
				</div><!-- End div painel_cliente -->
					<!-- Todos os Produtos -->
					
					<br>
					    <!-- Total de todos os produtos  -->
						
					    <!-- Total de todos os produtos  -->
					    
					    <label>Descrição de venda</label>
						<textarea name="descricao_venda" class="form-control" rows="3"></textarea>
				</form></div>
				<div class="modal-footer">
					<input type="hidden" name="total_venda" value="0">
					<input type="hidden" name="total_comissao" value="0">
					<button type="button" data-dismiss="modal" id="bt_cancel" class="btn btn-primary"><i class="glyphicon glyphicon-thumbs-down"></i> Cancelar</button>
					<button type="submit" id="bt_finalizaVenda" class="btn btn-primary" disabled="disabled"><i class="glyphicon glyphicon-thumbs-up"></i> Confirmar</button>
					
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	   
		   	<!-- Modal Finalização de Venda -->
	
	
	
		   	<!-- Modal Rateio Venda -->
	<div class="modal fade" id="modalRateio" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						×
					</button>
					<h4 class="modal-title" id="myModalLabel">Rateio Venda   -   <strong>R$ 0,00</strong></h4>
				</div>
				<div class="modal-body">
									<form method="post" name="rateio" action="/venda/cadTipoPagamento">
				<input type="hidden" name="id_clientePF" value="">
				<p class="list-group-item-text"></p><h3 id="nome_cliente"></h3><p></p><table class="table">
							    
							    												<tbody><tr>
																						    	<td>DEPOSITO BANCARIO</td> 
										    	<td><input type="text" class="fmpgto" name="1[]"></td>
										    	<!-- End IF CARTÃO DE CREDITO -->
											</tr>							    			
							    	
							    												<tr>
																						    	<td>BOLETO BANCÁRIO</td> 
										    	<td><input type="text" class="fmpgto" name="2[]"></td>
										    	<!-- End IF CARTÃO DE CREDITO -->
											</tr>							    			
							    	
							    												<tr>
																							    	<td>CARTÃO DE CRÉDITO											    		<!-- Listar todos cartões de crédito do cliente -->
											    		<table id="cartoes_credito" class="table table-bordered">
														</table>
											    		<!-- Listar todos cartões de crédito do cliente -->
													</td>
										    	<!-- End IF CARTÃO DE CREDITO -->
											</tr>							    			
							    	
							    								    		</tbody></table>
							</form></div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"><i class="glyphicon glyphicon-floppy-disk"></i> Salvar</button>
								
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
		   	<!-- Modal Rateio Venda -->
	
	
	
	
	<!-- Tela de botoes de produtos-->
	<div class="venda_produtos">
		<div class="vend_produtos_left">
			<br>
			<br>
			<p><a href="#" title="Reserva de Hoteis" data-toggle="modal" data-target="#modalHotel" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> HOTEIS</a></p>
			<br>
			<p><a href="#" data-toggle="modal" data-target="#modalCarros" title="Aluguel de carros" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> CARROS</a></p>
			<br>
			<p><a href="#" data-toggle="modal" data-target="#modalPassagens" title="Reservar passagens aéreas" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> PASSAGENS</a></p>
		</div>
		
		<div class="vend_produtos_right">
			<br>
			<br>
			<p><a href="#" data-toggle="modal" data-target="#modalSeguro" title="Contratar Seguro para viagem" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> SEGURO</a></p>
			<br>
			<p><a href="#" title="Compra de tickets" data-toggle="modal" data-target="#modalTicket" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> TICKETS</a></p>
			<br>
			<p><a href="#" data-toggle="modal" data-target="#modalCruzeiro" title="Compra de cruzeiros atlânticos" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> CRUZEIROS</a></p>
			<br>
			<p><a href="#" data-toggle="modal" data-target="#modalProdutos" title="Outros Produtos" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-plus-sign"></i> Outros</a></p>
		</div>
	</div>
	<!-- Tela de botoes de produtos-->
	<hr>
	
	<hr>
	<br>
	<table class="table table-condensed">
	<!-- Cliente da Lista de venda -->
		<tbody>
			<?php $total_tudo = 0;
				  
			
			 ?>
			<!-- Empresa selecionada -->
			<?php if(isset($_SESSION['empresa'])): ?>
				<?php foreach($empresa as $key => $value): ?>
					<tr class="warning">
						<td>EMPRESA: <?=$value['nomefantasia_clientePJ']?></td>
						<td><?=$value['cidade_clientePJ']?></td>
						<td><a href="#" class="btn btn-success" data-toggle="modal" data-target="#modalFuncionario" id_clientePJ="<?=$value['id_clientePJ']?>" id="bt_addFunc">Funcionário</a></td>
						<td><a href="/vendaPJ/removeClientePJ" onclick="return confirm('Deseja realmente remover empresa da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach; ?>
			<?php endif; ?>
			
			
			
			<!-- Funcionarios selecionados -->
			<?php if(isset($_SESSION['funcionarios'])): ?>
				<?php foreach ($dependentes as $key => $value): ?>
					<tr class="warning">
					<td><?=$value['nome_dependentePJ']?></td>						
					<td><?=$opt_departamento[$value['id_departamento']]?></td>						
					<td><?=$value['cpf_dependentePJ']?></td>						
					<td><a href="/vendaPJ/removeDependentePJ/id/<?=$value['id_dependentePJ']?>" onclick="return confirm('Deseja realmente remover funcionário da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach; ?>
			<?php endif; ?>
			
			<!-- Aluguel de carro -->
			<?php if(isset($carros)): 
				?>
				<?php foreach ($carros as $key => $value): 
					
				$total_carro = 0;
					?>
					<tr class="warning">
						<td>Locadora: <?=$opt_locadora[$value['id_locadora']]?></td>
						<td><?=date('d/m/Y',strtotime($value['dt_inicio_carroPJ']))?> à <?=date('d/m/Y',strtotime($value['dt_devolucao_carroPJ']))?></td>
						<?php $total_carro += $value['valor_carroPJ'] + $value['valor_casa_carroPJ'] + $value['taxa_carroPJ'];
							  $total_tudo += $total_carro;
						?>
						<td>Total: R$ <?=number_format($total_carro,2,',','.')?></td>
						<td><a href="/carro/removeCarroPJ/id/<?=$value['id_carroPJ']?>" onclick="return confirm('Deseja realmente remover Carro da lista de Venda?')" class="btn btn-danger">Remover</a></td></td>
						
					</tr>
				<?php endforeach; ?>
			<?php endif;  ?>
			
			
			<!-- Lista de Hotel -->
			<?php if(isset($hotels)): ?>
				<?php foreach ($hotels as $key => $value): 
					$valor_hotel = 0;
					?>
					<tr class="warning">
						<td>HOTEL: <?=$value['nome_hotelPJ']?></td>
						<td><?=$opt_brokers[$value['id_brokers']]?></td>
						<?php $valor_hotel += $value['valor_hotelPJ'] + $value['valor_casa_hotelPJ'];
							  $total_tudo += $valor_hotel;
						 ?>
						<td>TOTAL: R$ <?=number_format($valor_hotel,2,',','.')?></td>
						<td><a href="/hotel/removeHotelPJ/id/<?=$value['id_hotelPJ']?>" onclick="return confirm('Deseja realmente remover Hotel da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach;  ?>
			<?php endif; ?>
			
			
			<!-- listando Seguro --> 
			<?php if(isset($seguros)): ?>
			<?php foreach ($seguros as $key => $value): 
				$total_seguro = 0;
				?>
				<tr class="warning">
					<td>SEGURO: <?=$opt_seguradora[$value['id_seguradora']]?></td>
					<td><?=$opt_tipoSeguro[$value['id_tipoSeguro']]?></td>
					<?php  $total_seguro += $value['valor_seguroPJ'] + $value['valor_casa_seguroPJ'];
							$total_tudo += $total_seguro;
					?>
					<td>TOTAL: R$ <?=number_format($total_seguro,2,',','.')?></td>
					<td><a href="/seguro/removeSeguroPJ/id/<?=$value['id_seguroPJ']?>" onclick="return confirm('Deseja realmente remover Seguro da lista de Venda?')" class="btn btn-danger">Remover</a></td>
				</tr>
			<?php endforeach; ?>
			<?php endif; ?>
			
			
			<!-- listando Ticket --> 
			<?php if(isset($compTicket)): ?>
				<?php foreach ($compTicket as $key => $value): 
					$total_ticket = 0;
					?>
					<tr class="warning">
						<td>TICKET: <?=$opt_ticket[$value['id_ticket']]?></td>
						<td><?=$value['fornecedor_compraTicketPJ']?></td>
						<?php $total_ticket += $value['valor_compraTicketPj'] + $value['comissao_compraTicketPJ']; 
						$total_tudo += $total_ticket;
						?>
						<td>TOTAL: R$ <?=number_format($total_ticket,2,',','.')?></td>
						<td><a href="/compraTicket/removeCompraTicketPJ/id/<?=$value['id_compraTicketPJ']?>" onclick="return confirm('Deseja realmente remover funcionário da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach; ?>
			<?php endif; ?>
			
			
			
			<!-- listando Cruzeiro --> 
			<?php if(isset($cruzeiro)): ?>
				<?php foreach ($cruzeiro as $key => $value): 
					$total_cruzeiro = 0;
					?>
					<tr class="warning">
						<td>CRUZEIRO: <?=$opt_companiaCruzeiro[$value['id_compania_cruzeiro']]?></td>
						<td><?=$value['navio_cruzeiroPJ']?></td>
						<?php $total_cruzeiro += $value['valor_cruzeiroPJ'] + $value['comissao_cruzeiroPJ']; 
						$total_tudo += $total_cruzeiro;
						?>
						<td>TOTAL: R$ <?=number_format($total_cruzeiro,2,',','.')?></td>
						<td><a href="/cruzeiro/removeCruzeiroPJ/id/<?=$value['id_cruzeiroPJ']?>" onclick="return confirm('Deseja realmente remover funcionário da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach; ?>
			<?php endif; ?>
			
			
			
			<!-- listando Produto --> 
			<?php if(isset($produto)): ?>
				<?php foreach ($produto as $key => $value): 
					$total_produto = 0;
					?>
					<tr class="warning">
						<td>PRODUTO: <?=$value['titulo_produtoPJ']?></td>
						<td><?=$value['fornecedor_produtoPJ']?></td>
						<?php $total_produto += $value['valor_produtoPJ'] + $value['comissao_produtoPJ']; 
						$total_tudo += $total_produto;
						?>
						<td>TOTAL: R$ <?=number_format($total_produto,2,',','.')?></td>
						<td><a href="/ProdutoOutros/removeProdutoOutrosPJ/id/<?=$value['id_produtoPJ']?>" onclick="return confirm('Deseja realmente remover Produto da lista de Venda?')" class="btn btn-danger">Remover</a></td>
					</tr>
				<?php endforeach; ?>
			<?php endif; ?>
			
			
			<tr class="success">
			<td><strong style="font-size: 20px;">Total Geral:</strong></td>
			<td></td>
			<td></td>
			<td><strong style="font-size: 20px;">R$ <?=number_format($total_tudo,2,',','.')?></strong></td>
			</tr>
		</tbody>
	</table>
       <button id="btn_finaliza_venda" class="btn btn-success btn-lg" data-toggle="modal" data-target="#modalFinaliza" disabled="disabled">Finalizar Venda</button>
       <button id="btn_rateio_venda" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalFinaliza" disabled="disabled">Rateio</button>
<br />
<br />

<script>
	jQuery(function(){
		
		//Mascarando campos
		jQuery('#cnpj_clientePJ').mask('99.999.999/9999-99');
		
		
		//Validando valor vázio de campo de cnpj
		jQuery('#cnpj_clientePJ').keypress(function() {
			if(jQuery('#cnpj_clientePJ').val().length > 17){
				jQuery('#bt_findClientePJ').attr('disabled',false);
			}else{
				jQuery('#bt_findClientePJ').attr('disabled',true);
				
			}
		});
		
		
		//Populando empresa buscada pelo CNPJ
		jQuery('#bt_findClientePJ').click(function(){
			if(jQuery('#cnpj_clientePJ').val().length < 18){
				alert('Digite corretamente o CNPJ da Empresa!');
				return false;
			}else{
				jQuery.ajax({
					url: '/vendaPJ/findClientePJ',
					type: 'post',
					dataType: 'json',
					data: {cnpj : jQuery('#cnpj_clientePJ').val()},
					success: function(data){
						if(data){
							jQuery('#id_PJ').val(data.id_clientePJ);
							jQuery('#nomefantasia_PJ').html('<strong>NOME FANTASIA:</strong> '+data.nomefantasia_clientePJ);
							jQuery('#cnpj_PJ').html('<strong>CNPJ: </strong>' + data.cnpj_clientePJ);
							jQuery('#endereco_PJ').html('<strong>ENDEREÇO: </strong>' +data.endereco_clientePJ);
							jQuery('#cidade_PJ').html('<strong>CIDADE:</strong> ' +data.cidade_clientePJ);
							jQuery('#uf_PJ').html('<strong>UF: ' + data.uf_clientePJ);
							jQuery('#telefone_PJ').html('<strong>TELEFONE:</strong> '+data.telefone_clientePJ);
						}else{
							jQuery('.modal-body').html('<h2>Empresa não encontrada!</h2>');
							jQuery('#bt_incluir').attr('disabled',true);
							setTimeout(function(){
								location.href="/vendaPJ/cadVendaPJ"
							},3000);
						}
					}
				});
			}
			
		});
		
		//Funções ao modal Carros
		jQuery("#valor_cambio").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_carroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_casa_carroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#taxa_carroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery('#valor_cambio').attr('disabled',true);
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() == '0'){
				jQuery('#valor_cambio').val('');
				jQuery('#valor_cambio').attr('disabled',true);
			}else{
				jQuery('#valor_cambio').attr('disabled',false);
			}
		});
		
		
		//Funções para o modal Hotel
		jQuery('#cep_hotelPJ').mask('99999-999');
		jQuery("#valor_hotelPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_casa_hotelPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_cambio_hotelPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery('#is_br').click(function(){
			if(jQuery(this).attr('checked')){
				jQuery('#cep_hotelPJ').attr('disabled',true);
			}else{
				jQuery('#cep_hotelPJ').attr('disabled',false);
			}
		});
		
		jQuery('#valor_cambio_hotelPJ').attr('disabled',true);
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() == '0'){
				jQuery('#valor_cambio_hotelPJ').attr('disabled',true);
			}else{
				jQuery('#valor_cambio_hotelPJ').attr('disabled',false);
			}
		});
		
		
		
		
		//Funções para o model Seguro
		jQuery("#valor_cambio_seguroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_seguroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_casa_seguroPJ").maskMoney({thousands:'', decimal:'.'});
		
		jQuery("#valor_cambio_seguroPJ").attr('disabled',true);
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() != '0'){
				jQuery("#valor_cambio_seguroPJ").attr('disabled',false);
			}else{
				jQuery("#valor_cambio_seguroPJ").attr('disabled',true);
				
			}
		});
		
		
		//Funções do modal Ticket
		jQuery("#valor_cambio_compraTicketPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_compraTicketPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#comissao_compraTicketPJ").maskMoney({thousands:'', decimal:'.'});
		
		jQuery("#valor_cambio_compraTicketPJ").attr('disabled',true);
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() != '0'){
				jQuery("#valor_cambio_compraTicketPJ").attr('disabled',false);
			}else{
				jQuery("#valor_cambio_compraTicketPJ").attr('disabled',true);
				
			}
		});
		
		
		//Funções do modal Cruzeiro
		jQuery("#valor_cambio_cruzeiroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_cruzeiroPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#comissao_cruzeiroPJ").maskMoney({thousands:'', decimal:'.'});
		
		jQuery("#valor_cambio_cruzeiroPJ").attr('disabled',true);
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() != '0'){
				jQuery("#valor_cambio_cruzeiroPJ").attr('disabled',false);
			}else{
				jQuery("#valor_cambio_cruzeiroPJ").attr('disabled',true);
				
			}
		});
		
		
		
		//Funçoes do modal Produtos
		jQuery("#valor_cambio_produtoPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#valor_produtoPJ").maskMoney({thousands:'', decimal:'.'});
		jQuery("#comissao_produtoPJ").maskMoney({thousands:'', decimal:'.'});
		
		jQuery("#valor_cambio_produtoPJ").attr('disabled',true);
		
		jQuery('[name=id_moeda]').change(function(){
			if(jQuery(this).val() != '0'){
				jQuery("#valor_cambio_produtoPJ").attr('disabled',false);
			}else{
				jQuery("#valor_cambio_produtoPJ").attr('disabled',true);
			}
		});
		
// 		
});
</script>